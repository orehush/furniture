{"version":3,"sources":["utils/backend.js","components/ModalWrapper/index.js","pages/ProjectsList/components/ProjectForm/index.js","pages/ProjectsList/index.js","pages/ProjectDetails/utils.js","pages/ProjectDetails/components/ExportCSV.js","pages/ProjectDetails/components/NewBoxForm/index.js","pages/ProjectDetails/components/EditBoxForm/index.js","pages/ProjectDetails/index.js","App.js","reportWebVitals.js","index.js"],"names":["notEmpty","value","defaultValue","isEmpty","request","method","path","queryParams","data","headers","a","queryString","Object","entries","map","key","join","fetch","toUpperCase","mode","cache","body","JSON","stringify","response","json","console","log","getProject","id","createProject","city","street","name","createBox","template","project","inputs","ModalWrapper","show","onClose","children","useState","isOpen","setIsOpen","useEffect","toggle","onClosed","ProjectForm","onFinish","setName","setCity","setStreet","Form","className","FormGroup","Label","for","Input","type","placeholder","onChange","e","target","Button","onClick","disabled","ProjectsList","useQuery","page","getProjects","isLoading","queryClient","useQueryClient","showForm","setShowForm","results","to","invalidateQueries","getProjectDetails","boxes","getBoxesCSVData","forEach","box","outputs","output","push","base","width","length","amount","square","square_extra","edge","edge_extra","drilling_count","ExportCSV","csvData","fileName","color","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","Blob","FileSaver","exportToCSV","Field","default_value","setValue","tag","check","NewBoxForm","setInputs","setTemplate","templates","filter","i","t","style","height","border","cursor","input","template_type","template_name","EditBoxForm","short_name","pk","ProjectDetails","useParams","history","useHistory","editBox","setEditBox","initialData","address","rotation","QueryClient","defaultOptions","queries","refetchOnMount","refetchOnWindowFocus","App","QueryClientProvider","client","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a7dfc91d.chunk.js","sourcesContent":["import { isEmpty } from 'lodash';\n\nconst notEmpty = (value, defaultValue) => {\n    return isEmpty(value) ? defaultValue : value;\n}\n\nconst request = async (method, path, queryParams, data, headers) => {\n    const queryString = Object.entries(notEmpty(queryParams, {})).map(([key, value]) => `${key}=${value}`).join('&')\n    const response = await fetch(`/api${path}?${queryString}`, {\n        method: method.toUpperCase(),\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: {\n            'Content-Type': 'application/json',\n            ...(notEmpty(headers, {}))\n        },\n        body: isEmpty(data) ? null : JSON.stringify(data)\n    });\n    try {\n        return await response.json();\n    } catch (e) {\n        console.log(e);\n        return null;\n    }\n}\n\nexport const getProjects = (page = 1) => {\n    return request('GET', '/projects', { page });\n}\n\nexport const getProject = (id) => {\n    return request('GET', `/projects/${id}`);\n}\n\nexport const createProject = ({ city, street, name }) => {\n    return request('POST', `/projects`, null, { city, street, name });\n}\n\nexport const getProjectBoxes = (pk) => {\n    return request('GET', `/projects/${pk}/nightstands`);\n}\n\nexport const getBoxTemplates = () => {\n    return request('GET', `/nightstand_templates`);\n}\n\nexport const createBox = (template, project, inputs) => {\n    return request('POST', '/nightstands', null, { template, project, inputs })\n}\n\nexport const deleteBox = (pk) => {\n    return request('DELETE', `/nightstands/${pk}`)\n}\n\nexport const updateInput = (pk, value) => {\n    return request('PUT', `/inputs/${pk}`, null, { value })\n}\n","import Modal from 'reactstrap/lib/Modal';\nimport {useState, useEffect} from \"react\";\n\nexport default function ModalWrapper({ show, onClose, children }) {\n    const [isOpen, setIsOpen] = useState(show);\n    const toggle = () => setIsOpen(!isOpen);\n\n    useEffect(() => {\n        setIsOpen(show);\n    }, [show])\n\n    return <Modal isOpen={isOpen} toggle={toggle} onClosed={onClose}>\n        {children}\n    </Modal>\n}\n","import {Button, Form, FormGroup, Input, Label} from \"reactstrap\";\nimport {useState} from \"react\";\nimport {createProject} from \"../../../../utils/backend\";\n\nexport default function ProjectForm({ onFinish }) {\n    const [name, setName] = useState('');\n    const [city, setCity] = useState('');\n    const [street, setStreet] = useState('');\n\n    return (\n        <Form className=\"m-5\">\n            <h3>Create New Project</h3>\n            <FormGroup>\n                <Label for=\"name\">Name</Label>\n                <Input type=\"text\" name=\"name\" id=\"name\" placeholder=\"project name\" value={name} onChange={(e) => setName(e.target.value)} />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"city\">City</Label>\n                <Input type=\"text\" name=\"city\" id=\"city\" placeholder=\"city\" value={city} onChange={(e) => setCity(e.target.value)} />\n            </FormGroup>\n            <FormGroup>\n                <Label for=\"street\">Street</Label>\n                <Input type=\"text\" name=\"street\" id=\"street\" placeholder=\"street\" value={street} onChange={(e) => setStreet(e.target.value)} />\n            </FormGroup>\n            <Button\n                onClick={async () => {\n                    await createProject({ name, city, street });\n                    onFinish && onFinish();\n                }}\n                disabled={!name || !city}\n            >\n                Submit\n            </Button>\n        </Form>\n    );\n}\n","import './styles.css';\nimport {useQuery, useQueryClient} from \"react-query\";\nimport {getProjects} from \"../../utils/backend\";\nimport {Link} from \"react-router-dom\";\nimport ModalWrapper from \"../../components/ModalWrapper\";\nimport ProjectForm from \"./components/ProjectForm\";\nimport {useState} from \"react\";\nimport {Button} from \"reactstrap\";\n\nexport default function ProjectsList() {\n    const { data, isLoading } = useQuery('project-list', () => getProjects());\n    const queryClient = useQueryClient();\n    const [showForm, setShowForm] = useState(false);\n\n    return <div className=\"m-5\">\n        <h1>Projects list</h1>\n        {isLoading && <div>Loading...</div>}\n        <ul>\n            {data && data.results.map(project => (<li key={project.id}>\n                <Link to={`/project/${project.id}`}>{project.name}</Link>\n            </li>))}\n        </ul>\n        <Button onClick={() => {setShowForm(true)}}>Add new project</Button>\n        <ModalWrapper show={showForm} onClose={() => setShowForm(false)}>\n            <ProjectForm onFinish={() => {\n                queryClient.invalidateQueries('project-list');\n                setShowForm(false);\n            }}/>\n        </ModalWrapper>\n    </div>\n}\n","import {getProject, getProjectBoxes} from \"../../utils/backend\";\n\nexport const getProjectDetails = async (id) => {\n    const project = await getProject(id);\n    const boxes = await getProjectBoxes(id);\n    return { project, boxes }\n}\n\nexport const getBoxesCSVData = (boxes) => {\n    if (!boxes) {\n        return [];\n    }\n    const data = [\n        [\n            'Тип матеріалу',\n            'Ширина',\n            'Довжина',\n            'Кількість',\n            'Площа',\n            'Площа з запасом',\n            'Кромка',\n            'Кромка з запасом',\n            'Кількість сверлінь',\n        ]\n    ]\n    boxes.forEach(box => {\n        box.outputs.forEach(output => {\n            data.push([\n                output.base,\n                output.width || 0,\n                output.length || 0,\n                output.amount || 0,\n                output.square || 0,\n                output.square_extra || 0,\n                output.edge || 0,\n                output.edge_extra || 0,\n                output.drilling_count || 0,\n            ])\n        })\n    })\n\n    return data;\n}","import Button from 'reactstrap/lib/Button';\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\n\nexport const ExportCSV = ({csvData, fileName}) => {\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n    const fileExtension = '.xlsx';\n    const exportToCSV = (csvData, fileName) => {\n        const ws = XLSX.utils.json_to_sheet(csvData);\n        const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\n        const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n        const data = new Blob([excelBuffer], {type: fileType});\n        FileSaver.saveAs(data, fileName + fileExtension);\n    }\n\n    return (\n        <Button color='info' onClick={(e) => exportToCSV(csvData,fileName)}>Export to excel</Button>\n    )\n}\n","import {Button, Form, FormGroup, Input, Label} from \"reactstrap\";\nimport {useState, useEffect} from \"react\";\nimport {createBox, getBoxTemplates} from \"../../../../utils/backend\";\nimport {useQuery} from \"react-query\";\n\nconst Field = ({ template, onChange }) => {\n    const [value, setValue] = useState(template?.default_value);\n    useEffect(() => {\n        if (template.default_value) {\n            setValue(template.default_value);\n        }\n    }, [template]);\n    useEffect(() => {\n        onChange(+value);\n    }, [value]);\n\n    if (template.type === 4) {\n        return (\n            <FormGroup tag=\"fieldset\">\n                <legend>{template.name}</legend>\n                <FormGroup check>\n                    <Label check>\n                        <Input type=\"radio\" name=\"radio1\" value={1} onChange={e => setValue(e.target.value)}/>{' '}\n                        Yes\n                    </Label>\n                </FormGroup>\n                <FormGroup check>\n                    <Label check>\n                        <Input type=\"radio\" name=\"radio1\" value={0} onChange={e => setValue(e.target.value)}/>{' '}\n                        No\n                    </Label>\n                </FormGroup>\n            </FormGroup>\n        )\n    }\n\n    return (\n        <FormGroup>\n            <Label for=\"name\">{template.name}</Label>\n            <Input type=\"number\" name=\"name\" placeholder={template.name} value={value} onChange={(e) => setValue(e.target.value)} />\n        </FormGroup>\n    )\n}\n\nexport default function NewBoxForm({ onFinish, project }) {\n    const [inputs, setInputs] = useState([]);\n    const [template, setTemplate] = useState(null);\n    const { data: templates } = useQuery('templates', () => getBoxTemplates())\n    useEffect(() => {\n        if (template && template.inputs) {\n            setInputs(\n                template.inputs.filter(i => i.default_value).map(i => ({ template: i.id, value: i.default_value }))\n            )\n        }\n    }, [template]);\n\n    return (\n        <Form className=\"m-5\">\n            <h3>Create New Box</h3>\n            {templates && templates.map(t => {\n                return (\n                    <div\n                        key={t.id}\n                        style={{ width: '150px', height: '150px', border: '1px solid #000', cursor: 'pointer' }}\n                        className={`p-2 d-flex justify-content-center align-items-center ${t.id === template?.id && 'border-info border-2'}`}\n                        onClick={() => setTemplate(t)}\n                    >\n                        <h4>{t.name}</h4>\n                    </div>\n                )\n            })}\n            {template && template.inputs && template.inputs.map(input => {\n                return (\n                    <Field template={input} onChange={(value) => {\n                        setInputs(\n                            [\n                                ...inputs.filter(i => i.template !== input.id),\n                                { template: input.id, value: value }\n                            ]\n                        )\n                    }}/>\n                )\n            })}\n            <Button\n                onClick={async () => {\n                    await createBox(template.id, project.id, inputs);\n                    onFinish && onFinish();\n                }}\n                disabled={!template}\n            >\n                Submit\n            </Button>\n        </Form>\n    );\n}\n","import {Button, Form, FormGroup, Input, Label} from \"reactstrap\";\nimport {useState, useEffect} from \"react\";\nimport {updateInput} from \"../../../../utils/backend\";\n\nconst Field = ({ template_type, template_name, default_value, onChange }) => {\n    const [value, setValue] = useState(default_value);\n    useEffect(() => {\n        onChange(+value);\n    }, [value]);\n\n    if (template_type === 4) {\n        return (\n            <FormGroup tag=\"fieldset\">\n                <legend>{template_name}</legend>\n                <FormGroup check>\n                    <Label check>\n                        <Input type=\"radio\" name=\"radio1\" value={1} onChange={e => setValue(e.target.value)}/>{' '}\n                        Yes\n                    </Label>\n                </FormGroup>\n                <FormGroup check>\n                    <Label check>\n                        <Input type=\"radio\" name=\"radio1\" value={0} onChange={e => setValue(e.target.value)}/>{' '}\n                        No\n                    </Label>\n                </FormGroup>\n            </FormGroup>\n        )\n    }\n\n    return (\n        <FormGroup>\n            <Label for=\"name\">{template_name}</Label>\n            <Input type=\"number\" name=\"name\" placeholder={template_name} value={value} onChange={(e) => setValue(e.target.value)} />\n        </FormGroup>\n    )\n}\n\nexport default function EditBoxForm({ onFinish, box }) {\n    const [inputs, setInputs] = useState(box?.inputs || []);\n\n    if (!box) {\n        return null;\n    }\n\n    return (\n        <Form className=\"m-5\">\n            <h3>Update Box - {box.short_name}</h3>\n            {box.inputs && box.inputs.map(input => {\n                return (\n                    <Field onChange={(value) => {\n                        setInputs(\n                            [\n                                ...inputs.filter(i => i.id !== input.id),\n                                {\n                                    id: input.id,\n                                    value: value\n                                }\n                            ]\n                        )\n                    }} default_value={input.value} {...input} />\n                )\n            })}\n            <Button\n                onClick={async () => {\n                    for (let input of inputs) {\n                        console.log(input);\n                        await updateInput(input.id, input.value)\n                    }\n                    onFinish && onFinish();\n                }}\n            >\n                Update\n            </Button>\n        </Form>\n    );\n}\n","import './styles.css';\nimport { useParams } from \"react-router-dom\";\nimport {useQuery, useQueryClient} from \"react-query\";\nimport {getBoxesCSVData, getProjectDetails} from \"./utils\";\nimport {ExportCSV} from \"./components/ExportCSV\";\nimport Button from \"reactstrap/lib/Button\";\nimport ListGroup from \"reactstrap/lib/ListGroup\";\nimport ListGroupItem from \"reactstrap/lib/ListGroupItem\";\nimport { useHistory } from \"react-router-dom\";\nimport { useState } from 'react';\nimport ModalWrapper from \"../../components/ModalWrapper\";\nimport NewBoxForm from \"./components/NewBoxForm\";\nimport {deleteBox} from \"../../utils/backend\";\nimport EditBoxForm from \"./components/EditBoxForm\";\n\n\nexport default function ProjectDetails() {\n    const { id } = useParams();\n    const history = useHistory();\n    const queryClient = useQueryClient();\n    const [showForm, setShowForm] = useState(false);\n    const [editBox, setEditBox] = useState(null);\n\n    const { data: { project, boxes }, isLoading } = useQuery(\n        `project-detail-${id}`,\n        () => getProjectDetails(id),\n        {\n            initialData: {}\n        }\n    );\n\n    return <div className=\"m-5\">\n        <h1>Project Details</h1>\n        <Button onClick={() => history.push('/')}>Go Back</Button>\n        {isLoading && <div>Loading...</div>}\n        <div>{project?.name}</div>\n        <div>{project?.city}</div>\n        <div>{project?.address}</div>\n        <div className=\"mt-3\">\n            <div className=\"mb-2\">\n                <div className=\"mb-2\">\n                    {project && boxes && <ExportCSV csvData={getBoxesCSVData(boxes)} fileName={project.name} />}\n                </div>\n                <div>\n                    {project && <Button color='primary' onClick={() => setShowForm(true)}>Add new box</Button>}\n                </div>\n            </div>\n            <h4>Список тумб</h4>\n            <ListGroup className=\"mb-4\">\n                {boxes && boxes.map(box => {\n                    return <ListGroupItem>\n                        <div className=\"m-1 fw-bold\">{box.short_name}</div>\n                        <Button color=\"primary\" className=\"mr-4\" onClick={() => setEditBox(box)}>\n                            Редагувати\n                        </Button>\n                        <Button color=\"danger\" onClick={async () => {\n                            await deleteBox(box.id);\n                            queryClient.invalidateQueries(`project-detail-${id}`);\n                        }}>\n                            Видалити\n                        </Button>\n                    </ListGroupItem>\n                })}\n            </ListGroup>\n            <h4>Список деталей</h4>\n            <table className=\"table table-bordered table-striped\">\n                <thead>\n                    <tr>\n                        <th>Тумба</th>\n                        <th>Назва елементу</th>\n                        <th>Тип матеріалу</th>\n                        <th>Ширина</th>\n                        <th>Довжина</th>\n                        <th>Кількість</th>\n                        <th>Площа</th>\n                        <th>Площа з запасом</th>\n                        <th>Кромка</th>\n                        <th>Кромка з запасом</th>\n                        <th>Кількість сверлінь</th>\n                        <th>Обертання</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {boxes && boxes.map(box => {\n                        return box.outputs.map(output => {\n                            return <tr>\n                                <td>{box.short_name}</td>\n                                <td>{output.name}</td>\n                                <td>{output.base}</td>\n                                <td>{output.width || 0}</td>\n                                <td>{output.length || 0}</td>\n                                <td>{output.amount || 0}</td>\n                                <td>{output.square || 0}</td>\n                                <td>{output.square_extra || 0}</td>\n                                <td>{output.edge || 0}</td>\n                                <td>{output.edge_extra || 0}</td>\n                                <td>{output.drilling_count || 0}</td>\n                                <td>{output.rotation || 0}</td>\n                            </tr>\n                        })\n                    })}\n                </tbody>\n            </table>\n        </div>\n        <ModalWrapper show={showForm} onClose={() => setShowForm(false)}>\n            <NewBoxForm\n                onFinish={() => {\n                    queryClient.invalidateQueries(`project-detail-${id}`);\n                    setShowForm(false);\n                }}\n                project={project}\n            />\n        </ModalWrapper>\n        <ModalWrapper show={!!editBox} onClose={() => setEditBox(null)}>\n            <EditBoxForm\n                onFinish={() => {\n                    setEditBox(null);\n                    queryClient.invalidateQueries(`project-detail-${id}`);\n                }}\n                box={editBox}\n            />\n        </ModalWrapper>\n    </div>\n}\n","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport ProjectsList from \"./pages/ProjectsList\";\nimport ProjectDetails from \"./pages/ProjectDetails\";\nimport {QueryClient, QueryClientProvider} from \"react-query\";\n\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnMount: true,\n      refetchOnWindowFocus: true\n    }\n  }\n});\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Router>\n        <Switch>\n          <Route path=\"/project/:id\">\n            <ProjectDetails />\n          </Route>\n          <Route path=\"/\">\n            <ProjectsList />\n          </Route>\n        </Switch>\n      </Router>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}